(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-46796b1b"],{5291:function(e,t,r){},7769:function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.loading?r("loader"):e.record?r("div",[r("div",{staticClass:"breadcrumb-wrap"},[r("router-link",{staticClass:"breadcrumb",attrs:{to:{name:"history"}}},[e._v("История")]),r("a",{staticClass:"breadcrumb",on:{click:function(e){e.preventDefault()}}},[e._v(" "+e._s("income"===e.record.type?"Доход":"Расход")+" ")])],1),r("div",{staticClass:"row"},[r("div",{staticClass:"col s12 m6"},[r("div",{staticClass:"card",class:{red:"outcome"===e.record.type,green:"income"===e.record.type}},[r("div",{staticClass:"card-content white-text center"},[r("p",[e._v(" Описание: "+e._s(e.record.description)+" ")]),r("p",[e._v(" Сумма: "+e._s(e._f("currencyFilter")(e.record.amount))+" ")]),r("p",[e._v(" Категория: "+e._s(e.record.categoryName)+" ")]),r("small",[e._v(" "+e._s(e._f("dateFilter")(e.record.date,"datetime"))+" ")]),r("div",{staticClass:"containerForUpdate"},[e.isVisiable?r("div",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.updatedDescription,expression:"updatedDescription"}],attrs:{type:"text"},domProps:{value:e.updatedDescription},on:{input:function(t){t.target.composing||(e.updatedDescription=t.target.value)}}}),r("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Принять изменения",expression:"'Принять изменения'"}],staticClass:"btn-small btn position",on:{click:function(t){return e.updateRecord(e.record)}}},[r("i",{staticClass:"tiny material-icons"},[e._v("check")])])]):e._e()]),r("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Изменить описание",expression:"'Изменить описание'"}],staticClass:"btn-small btn position",on:{click:e.openUpdatingRecord}},[r("i",{staticClass:"tiny material-icons"},[e._v("create")])])])])])])]):r("p",[e._v(" Запись с id="+e._s(e.$route.params.id)+" не найдена. ")])],1)},a=[],n=r("5530"),s=r("1da1"),c=(r("a4d3"),r("e01a"),r("96cf"),{name:"detail",data:function(){return{record:null,loading:!0,isVisiable:!1,updatedDescription:""}},metaInfo:function(){return{title:this.$title("Menu_NewRecord")}},mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,i,a,s,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.$route.params.id,i=e.$route.params.cid,a={recordId:r,categoryId:i},t.next=5,e.$store.dispatch("fetchRecordsById",a);case 5:return s=t.sent,t.next=8,e.$store.dispatch("fetchCategoryById",s.categoryId);case 8:c=t.sent,e.record=Object(n["a"])(Object(n["a"])({},s),{},{categoryName:c.title}),e.loading=!1;case 11:case"end":return t.stop()}}),t)})))()},methods:{openUpdatingRecord:function(){this.isVisiable=!this.isVisiable,this.updatedDescription=this.record.description},updateRecord:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e.description=t.updatedDescription,t.$message("Описание изменено"),r.next=4,t.$store.dispatch("updateRecord",e);case 4:t.isVisiable=!1;case 5:case"end":return r.stop()}}),r)})))()}}}),o=c,d=(r("b909"),r("2877")),u=Object(d["a"])(o,i,a,!1,null,null,null);t["default"]=u.exports},b909:function(e,t,r){"use strict";r("5291")}}]);
//# sourceMappingURL=chunk-46796b1b.871fb81b.js.map